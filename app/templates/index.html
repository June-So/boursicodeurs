{% extends 'base.html' %}
{% block body %}
    <p>Site en construction</p>

    <div class="container-fluid">
      <h2>Gestion du model</h2>
      <form method="POST" action="{{ url_for('train_model') }}">
        <div class="row">
          {{ trainform.hidden_tag() }}
          <div class="col">
            {{ trainform.epochs.label() }}
            {{ trainform.epochs }}
          </div>
          <div class="col">
            {{ trainform.batch_size.label() }}
            {{ trainform.batch_size }}
          </div>
          <div class="col">
            {{ trainform.time_steps.label() }}
            {{ trainform.time_steps }}
          </div>
        </div>
          <div class="row">
            {{ trainform.submit }}
          </div>
      </form>
    </div>
    <div class="">
        <h2>Pr√©diction</h2>
        <table class="table">
             <tr>
                <th scope="col">filename</th>
                <th scope="col">epochs</th>
                <th scope="col">batch_size</th>
                <th scope="col">time_steps</th>
                <th scope="col">total_train</th>
                <th scope="col">total_validation</th>
                <th scope="col">total_test</th>
                <th scope="col">score_train</th>
                <th scope="col">score_validation</th>
                <th scope="col">score_test</th>
            </tr>
        {% for model in list_models %}
            <tr>
                <th scope="row">{{ model.filename }}</th>
                <td>{{ model.epochs }}</td>
                <td>{{ model.batch_size }}</td>
                <td>{{ model.time_steps }}</td>
                <td>{{ model.total_train }}</td>
                <td>{{ model.total_validation }}</td>
                <td>{{ model.total_test }}</td>
                <td>{{ model.score_train }}</td>
                <td>{{ model.score_validation }}</td>
                <td>{{ model.score_test }}</td>
                <td><a href="{{ url_for('get_predict', model_id=model.id, asset_id=1) }}"><button>Utiliser</button></a></td>
                <td><a href="{{ url_for('delete_model', model_id=model.id) }}"><button>Supprimer</button></a></td>
            </tr>
        {% endfor %}
        </table>
    </div>

    <div>
        <h2>Liste des indices</h2>
        {% for instrument in instruments %}
            <button type="button" class="btn btn-info"><a href="{{ url_for('get_data', instrument=instrument, period='H1', number=10000)}}">{{ instrument }}</a></button>
        {% endfor %}
    </div>
{% endblock %}
